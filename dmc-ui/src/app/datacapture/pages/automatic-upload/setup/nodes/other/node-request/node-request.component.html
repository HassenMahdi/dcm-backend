<div class="node-box">
  <div>
    <form nz-form [nzLayout]="'horizontal'">

      <nz-form-item>
        <nz-form-label class="text-left" [nzSm]="24">Url Column</nz-form-label>
        <nz-form-control [nzSm]="24">
          <input nz-input [nzSize]='size' [(ngModel)]='data.url' name="url" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label class="text-left" [nzSm]="24">Method</nz-form-label>
        <nz-form-control [nzSm]="24">
          <nz-select class="roles-input " nzAllowClear nzPlaceHolder="method" [(ngModel)]="data.method" name="method">
            <nz-option nzValue="GET" nzLabel="GET"></nz-option>
            <nz-option nzValue="POST" nzLabel="POST"></nz-option>
            <nz-option nzValue="PUT" nzLabel="PUT"></nz-option>
            <nz-option nzValue="DELETE" nzLabel="DELETE"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>


      <div *ngIf="['POST','PUT'].includes(data.method)" style="height: 300px" class="border rounded pt-3 pb-3">
        <ngx-monaco-editor style="height: 100%" [options]="editorOptions" [(ngModel)]="data.body" name="body">
        </ngx-monaco-editor>
      </div>

      <nz-form-item>
        <nz-form-label class="text-left" [nzSm]="24">
          Header 
          <button (click)="AddHeader()" class="ml-2" nz-button><i nz-icon nzType="plus"></i>Add</button>
        </nz-form-label>

        <div *ngFor="let h of data.header; let i = index">
          <nz-form-control  [nzSm]="24" >

            <nz-input-group nzCompact>
              <input type="text" placeholder="Key" nz-input style="width: 20%;" />
              <input type="text" placeholder="Value" nz-input style="width:30%;" />
              <button nz-button (click)="RemoveHeader(i)"><i nz-icon nzType="delete"></i></button>
            </nz-input-group>
  
          </nz-form-control>
        </div>
       
      </nz-form-item>

      <nz-form-item>
        <nz-form-label class="text-left" [nzSm]="24">Datapath</nz-form-label>
        <nz-form-control [nzSm]="24">
          <input nz-input [nzSize]='size' [(ngModel)]='data.datapath' name="datapath" />
        </nz-form-control>
      </nz-form-item>

      <!-- <div style="height: 300px" class="border rounded pt-3 pb-3">
        <ngx-monaco-editor style="height: 100%" [options]="editorOptions" [(ngModel)]="data.header" name="header">
        </ngx-monaco-editor>
      </div> -->

    </form>
  </div>

  <div class="button-spacing text-right w-100">
    <button nz-button (click)='cancel()'>Cancel</button>
    <button nz-button nzType='primary' (click)='save()'>Save</button>
  </div>
</div>
